{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/ai/flows/generate-coloring-book-images.ts"],"sourcesContent":["\n'use server';\n\n/**\n * @fileOverview Converts multiple user-uploaded photos into coloring book pages using AI.\n *\n * - generateColoringBookImages - A function that handles the bulk image conversion to coloring book pages.\n * - GenerateColoringBookImagesInput - The input type for the generateColoringBookImages function.\n * - GenerateColoringBookImagesOutput - The return type for the generateColoringBookImages function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst GenerateColoringBookImagesInputSchema = z.object({\n  photoDataUris: z\n    .array(z.string())\n    .describe(\n      \"An array of photos, as data URIs that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n  style: z.enum(['outline', 'realistic']).optional().default('outline').describe(\"The artistic style for the coloring page.\"),\n  difficulty: z.number().min(1).max(5).optional().default(3).describe(\"The complexity of the coloring page, from 1 (simple) to 5 (complex).\"),\n});\nexport type GenerateColoringBookImagesInput = z.infer<typeof GenerateColoringBookImagesInputSchema>;\n\nconst GenerateColoringBookImagesOutputSchema = z.object({\n  coloringBookDataUris: z\n    .array(z.string())\n    .describe(\"An array of coloring book page images, as data URIs.\"),\n});\nexport type GenerateColoringBookImagesOutput = z.infer<typeof GenerateColoringBookImagesOutputSchema>;\n\nexport async function generateColoringBookImages(\n  input: GenerateColoringBookImagesInput\n): Promise<GenerateColoringBookImagesOutput> {\n  return generateColoringBookImagesFlow(input);\n}\n\nconst coloringBookPrompt = ai.definePrompt({\n  name: 'coloringBookPrompt',\n  input: {schema: z.object({photoDataUri: z.string(), isRealistic: z.boolean(), difficultyDescription: z.string()})},\n  prompt: `\n    You are a coloring book image generator. Your task is to convert the user's photo into a coloring book page based on the specified style and difficulty.\n    The output should always be a data URI representing a PNG image. The output MUST be a coloring book version of the provided photo. Do NOT change the subject matter.\n\n    Style:\n    {{#if isRealistic}}\n    - Convert the image into a realistic, grayscale coloring book page. The image must be grayscale with no color.\n    - Preserve shading and detail to create an image that looks like a photograph, but is suitable for coloring.\n    {{else}}\n    - Convert the image into a classic coloring book page with only black and white.\n    - The result should be a black and white line drawing with clear, bold outlines and absolutely no color or shading. The image must contain only black lines on a white background.\n    {{/if}}\n\n    Difficulty:\n    - The user has specified the difficulty as '{{difficultyDescription}}'.\n    - Adjust the level of detail in the final image to match this difficulty.\n\n    Photo:\n    {{media url=photoDataUri}}`,\n  model: 'googleai/gemini-2.5-flash-image-preview',\n  config: {\n    responseModalities: ['IMAGE'],\n  },\n});\n\nconst generateColoringBookImagesFlow = ai.defineFlow(\n  {\n    name: 'generateColoringBookImagesFlow',\n    inputSchema: GenerateColoringBookImagesInputSchema,\n    outputSchema: GenerateColoringBookImagesOutputSchema,\n  },\n  async input => {\n    const isRealistic = input.style === 'realistic';\n    const difficultyMap: Record<number, string> = {\n        1: 'very easy (minimal lines, very simple)',\n        2: 'easy (simple with basic details)',\n        3: 'normal (moderately detailed)',\n        4: 'difficult (highly detailed with intricate lines)',\n        5: 'very difficult (as detailed as possible, capturing every fine line)',\n    };\n    const difficultyDescription = difficultyMap[input.difficulty || 3];\n\n\n    const conversionPromises = input.photoDataUris.map(photoDataUri => \n      coloringBookPrompt({ photoDataUri, isRealistic, difficultyDescription })\n    );\n\n    const results = await Promise.all(conversionPromises);\n\n    const coloringBookDataUris = results.map(result => {\n        if (!result.media.url) {\n            throw new Error(\"AI conversion failed for one or more images.\");\n        }\n        return result.media.url;\n    });\n\n    return {coloringBookDataUris};\n  }\n);\n"],"names":[],"mappings":";;;;;;IAgCsB,6BAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG1B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/ai/flows/regenerate-individual-image.ts"],"sourcesContent":["\n'use server';\n\n/**\n * @fileOverview This file defines a Genkit flow for regenerating individual images in a coloring book.\n *\n * It includes:\n * - regenerateIndividualImage: An async function that takes an image data URI and regenerates it into a coloring book image.\n * - RegenerateIndividualImageInput: The input type for the regenerateIndividualImage function.\n * - RegenerateIndividualImageOutput: The output type for the regenerateIndividualImage function.\n */\n\nimport {ai} from '@/ai/genkit';\nimport {z} from 'genkit';\n\nconst RegenerateIndividualImageInputSchema = z.object({\n  photoDataUri: z\n    .string()\n    .describe(\n      \"A photo to regenerate as a coloring book image, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n    style: z.enum(['outline', 'realistic']).optional().default('outline').describe(\"The artistic style for the coloring page.\"),\n    difficulty: z.number().min(1).max(5).optional().default(3).describe(\"The complexity of the coloring page, from 1 (simple) to 5 (complex).\"),\n    userNotes: z.string().optional().describe(\"Optional user notes to guide the regeneration.\"),\n});\nexport type RegenerateIndividualImageInput = z.infer<typeof RegenerateIndividualImageInputSchema>;\n\nconst RegenerateIndividualImageOutputSchema = z.object({\n  regeneratedPhotoDataUri: z\n    .string()\n    .describe(\n      \"The regenerated coloring book image, as a data URI that must include a MIME type and use Base64 encoding. Expected format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n});\nexport type RegenerateIndividualImageOutput = z.infer<typeof RegenerateIndividualImageOutputSchema>;\n\nexport async function regenerateIndividualImage(\n  input: RegenerateIndividualImageInput\n): Promise<RegenerateIndividualImageOutput> {\n  return regenerateIndividualImageFlow(input);\n}\n\nconst regenerateIndividualImagePrompt = ai.definePrompt({\n  name: 'regenerateIndividualImagePrompt',\n  input: {schema: z.object({photoDataUri: z.string(), isRealistic: z.boolean(), difficultyDescription: z.string(), userNotes: z.string().optional()})},\n  prompt: `\n    You are a coloring book image generator. Your task is to convert the user's photo into a coloring book page based on the specified style and difficulty.\n    The output should always be a data URI representing a PNG image. The output MUST be a coloring book version of the provided photo. Do NOT change the subject matter.\n\n    Style:\n    {{#if isRealistic}}\n    - Convert the image into a realistic, grayscale coloring book page. The image must be grayscale with no color.\n    - Preserve shading and detail to create an image that looks like a photograph, but is suitable for coloring.\n    {{else}}\n    - Convert the image into a classic coloring book page with only black and white.\n    - The result should be a black and white line drawing with clear, bold outlines and absolutely no color or shading. The image must contain only black lines on a white background.\n    {{/if}}\n\n    Difficulty:\n    - The user has specified the difficulty as '{{difficultyDescription}}'.\n    - Adjust the level of detail in the final image to match this difficulty.\n\n    {{#if userNotes}}\n    User Notes:\n    - The user has provided the following notes to guide the regeneration: \"{{userNotes}}\"\n    - Pay close attention to these notes and incorporate them into your output.\n    {{/if}}\n\n    Photo:\n    {{media url=photoDataUri}}\n  `,\n  model: 'googleai/gemini-2.5-flash-image-preview',\n  config: {\n    responseModalities: ['IMAGE'],\n  },\n});\n\nconst regenerateIndividualImageFlow = ai.defineFlow(\n  {\n    name: 'regenerateIndividualImageFlow',\n    inputSchema: RegenerateIndividualImageInputSchema,\n    outputSchema: RegenerateIndividualImageOutputSchema,\n  },\n  async input => {\n    const isRealistic = input.style === 'realistic';\n    const difficultyMap: Record<number, string> = {\n        1: 'very easy (minimal lines, very simple)',\n        2: 'easy (simple with basic details)',\n        3: 'normal (moderately detailed)',\n        4: 'difficult (highly detailed with intricate lines)',\n        5: 'very difficult (as detailed as possible, capturing every fine line)',\n    };\n    const difficultyDescription = difficultyMap[input.difficulty || 3];\n\n    const result = await regenerateIndividualImagePrompt({ photoDataUri: input.photoDataUri, isRealistic, difficultyDescription, userNotes: input.userNotes });\n    if (!result.media.url) {\n      throw new Error('Image regeneration failed.');\n    }\n    return {regeneratedPhotoDataUri: result.media.url};\n  }\n);\n\n    "],"names":[],"mappings":";;;;;;IAoCsB,4BAAA,WAAA,GAAA,CAAA,GAAA,sNAAA,CAAA,wBAAA,EAAA,8CAAA,sNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,sNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/ui/carousel.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 404, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,kKAAA,CAAA,OAAoB;AAEnC,MAAM,gBAAgB,kKAAA,CAAA,UAAuB;AAE7C,MAAM,eAAe,kKAAA,CAAA,SAAsB;AAE3C,MAAM,cAAc,kKAAA,CAAA,QAAqB;AAEzC,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,UAAuB;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGnC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,kKAAA,CAAA,UAAuB;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,kKAAA,CAAA,QAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,kKAAA,CAAA,UAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,QAAqB;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,kKAAA,CAAA,QAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,cAA2B;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,kKAAA,CAAA,cAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport {cn} from '@/lib/utils';\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, React.ComponentProps<'textarea'>>(\n  ({className, ...props}, ref) => {\n    return (\n      <textarea\n        className={cn(\n          'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  }\n);\nTextarea.displayName = 'Textarea';\n\nexport {Textarea};\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAC9B,CAAC,EAAC,SAAS,EAAE,GAAG,OAAM,EAAE;IACtB,qBACE,8OAAC;QACC,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 564, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,iKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/lib/clipboard.ts"],"sourcesContent":["// Utility function to safely copy text to clipboard\nexport const copyToClipboard = async (text: string): Promise<boolean> => {\n  try {\n    // Check if clipboard API is available\n    if (navigator.clipboard && window.isSecureContext) {\n      await navigator.clipboard.writeText(text);\n      return true;\n    } else {\n      // Fallback for older browsers or non-secure contexts\n      const textArea = document.createElement('textarea');\n      textArea.value = text;\n      textArea.style.position = 'fixed';\n      textArea.style.left = '-999999px';\n      textArea.style.top = '-999999px';\n      document.body.appendChild(textArea);\n      textArea.focus();\n      textArea.select();\n      \n      try {\n        const successful = document.execCommand('copy');\n        document.body.removeChild(textArea);\n        return successful;\n      } catch (err) {\n        document.body.removeChild(textArea);\n        return false;\n      }\n    }\n  } catch (err) {\n    console.warn('Failed to copy to clipboard:', err);\n    return false;\n  }\n};\n"],"names":[],"mappings":"AAAA,oDAAoD;;;;AAC7C,MAAM,kBAAkB,OAAO;IACpC,IAAI;QACF,sCAAsC;QACtC,IAAI,UAAU,SAAS,IAAI,OAAO,eAAe,EAAE;YACjD,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;YACpC,OAAO;QACT,OAAO;YACL,qDAAqD;YACrD,MAAM,WAAW,SAAS,aAAa,CAAC;YACxC,SAAS,KAAK,GAAG;YACjB,SAAS,KAAK,CAAC,QAAQ,GAAG;YAC1B,SAAS,KAAK,CAAC,IAAI,GAAG;YACtB,SAAS,KAAK,CAAC,GAAG,GAAG;YACrB,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,SAAS,KAAK;YACd,SAAS,MAAM;YAEf,IAAI;gBACF,MAAM,aAAa,SAAS,WAAW,CAAC;gBACxC,SAAS,IAAI,CAAC,WAAW,CAAC;gBAC1B,OAAO;YACT,EAAE,OAAO,KAAK;gBACZ,SAAS,IAAI,CAAC,WAAW,CAAC;gBAC1B,OAAO;YACT;QACF;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,IAAI,CAAC,gCAAgC;QAC7C,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 636, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/image-preview-grid.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState } from 'react';\nimport Image from 'next/image';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { RefreshCw, Loader2, Printer, X, Copy, Plus } from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\nimport { regenerateIndividualImage } from '@/ai/flows/regenerate-individual-image';\nimport { GenerateColoringBookImagesInput } from '@/ai/flows/generate-coloring-book-images';\nimport {\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselNext,\n  CarouselPrevious,\n} from \"@/components/ui/carousel\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\nimport { Textarea } from './ui/textarea';\nimport { Label } from './ui/label';\nimport { copyToClipboard } from '@/lib/clipboard';\n\n\ntype ImagePreviewGridProps = {\n    images: {original: string, converted: string}[];\n    style: GenerateColoringBookImagesInput['style'];\n    difficulty: number;\n    onStartOver: () => void;\n    onAddMorePhotos: () => void;\n};\n\nexport function ImagePreviewGrid({ images: initialImages, style, difficulty, onStartOver, onAddMorePhotos }: ImagePreviewGridProps) {\n    const [images, setImages] = useState(initialImages);\n    const [loadingStates, setLoadingStates] = useState<Record<number, boolean>>({});\n    const [previewIndex, setPreviewIndex] = useState<number | null>(null);\n    const [userNotes, setUserNotes] = useState(\"\");\n\n    const { toast } = useToast();\n\n\n    const handleRegenerate = async (index: number) => {\n        setLoadingStates(prev => ({ ...prev, [index]: true }));\n        const imageToRegen = images[index];\n        \n        if (!imageToRegen) {\n            toast({ title: \"Error\", description: \"Image not found.\", variant: 'destructive' });\n            setLoadingStates(prev => ({ ...prev, [index]: false }));\n            return;\n        }\n\n        try {\n            toast({ title: \"Regenerating...\", description: \"Our AI is creating a new version of your image.\" });\n            const { regeneratedPhotoDataUri } = await regenerateIndividualImage({ \n                photoDataUri: imageToRegen.original, \n                style, \n                difficulty,\n                userNotes,\n             });\n            \n            setImages(prevImages => \n                prevImages.map((img, i) => \n                    i === index ? { ...img, converted: regeneratedPhotoDataUri } : img\n                )\n            );\n            toast({ title: \"Image Regenerated!\", description: \"A new version of your image has been created.\" });\n            setUserNotes(\"\");\n\n        } catch (error) {\n            console.error(error);\n            toast({ title: \"Regeneration Failed\", description: \"Could not regenerate the image. Please try again.\", variant: 'destructive' });\n        } finally {\n            setLoadingStates(prev => ({ ...prev, [index]: false }));\n        }\n    };\n    \n    const handlePrint = () => {\n        const printWindow = window.open('', '', 'height=800,width=800');\n        if (printWindow) {\n            printWindow.document.write('<html><head><title>Print Coloring Book</title>');\n            printWindow.document.write('<style>@media print { body { -webkit-print-color-adjust: exact; } img { max-width: 100%; height: auto; page-break-inside: avoid; } }</style>');\n            printWindow.document.write('</head><body>');\n            images.forEach(image => {\n                printWindow.document.write(`<img src=\"${image.converted}\" />`);\n            });\n            printWindow.document.write('</body></html>');\n            printWindow.document.close();\n            printWindow.focus();\n            setTimeout(() => { // Timeout to ensure images load\n                printWindow.print();\n                printWindow.close();\n            }, 500);\n        }\n    }\n\n    const handleCopyImageUrl = async (imageUrl: string) => {\n        const success = await copyToClipboard(imageUrl);\n        if (success) {\n            toast({\n                title: \"Copied!\",\n                description: \"Image URL copied to clipboard.\"\n            });\n        } else {\n            toast({\n                title: \"Copy Failed\",\n                description: \"Could not copy to clipboard. Your browser may not support this feature.\",\n                variant: 'destructive'\n            });\n        }\n    }\n\n    return (\n        <div>\n             <div className=\"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4\">\n                <h2 className=\"text-2xl font-bold text-center sm:text-left\">Your Coloring Book Preview</h2>\n                <div className=\"flex items-center gap-2 flex-wrap justify-center\">\n                     <Button onClick={onStartOver} variant=\"outline\">\n                        <RefreshCw className=\"mr-2 h-4 w-4\" />\n                        Start Over\n                    </Button>\n                    <Button onClick={onAddMorePhotos} variant=\"outline\">\n                        <Plus className=\"mr-2 h-4 w-4\" />\n                        Add More Photos\n                    </Button>\n                    <Button onClick={handlePrint}>\n                        <Printer className=\"mr-2 h-4 w-4\" />\n                        Download Book\n                    </Button>\n                </div>\n            </div>\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\">\n                {images.map((image, index) => (\n                    <Card key={index} className=\"group overflow-hidden cursor-pointer\" onClick={() => setPreviewIndex(index)}>\n                        <CardContent className=\"p-0\">\n                            <div className=\"relative aspect-square w-full\">\n                                <Image\n                                    src={image.converted}\n                                    alt={`Coloring page ${index + 1}`}\n                                    fill\n                                    className=\"object-cover bg-white\"\n                                />\n                                 <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center print:hidden\">\n                                    <span className=\"text-white font-bold\">View</span>\n                                 </div>\n                            </div>\n                        </CardContent>\n                    </Card>\n                ))}\n            </div>\n\n            <Dialog open={previewIndex !== null} onOpenChange={(isOpen) => !isOpen && setPreviewIndex(null)}>\n                <DialogContent className=\"max-w-4xl w-full max-h-[90vh] p-0 bg-secondary flex flex-col justify-center items-center\">\n                    <DialogTitle className=\"sr-only\">Coloring Book Preview</DialogTitle>\n                    {previewIndex !== null && (\n                        <Carousel \n                            opts={{ startIndex: previewIndex, loop: true }} \n                            className=\"w-full h-full\"\n                        >\n                            <CarouselContent className=\"h-full\">\n                                {images.map((image, index) => (\n                                    <CarouselItem key={index} className=\"h-full flex flex-col items-center justify-start p-2 sm:p-4\">\n                                        <div className=\"text-center mb-2\">\n                                            <p className=\"text-sm sm:text-lg font-semibold\">Page {index + 1} of {images.length}</p>\n                                        </div>\n                                        <div className=\"relative w-full max-w-[300px] sm:max-w-[400px] aspect-[8.5/11] shadow-lg rounded-md overflow-hidden bg-white mx-auto flex-shrink-0\">\n                                            <Image\n                                                src={image.converted}\n                                                alt={`Coloring page ${index + 1}`}\n                                                fill\n                                                className=\"object-contain\"\n                                                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n                                            />\n                                        </div>\n                                        <div className=\"flex flex-col items-center gap-2 mt-2 w-full max-w-sm px-2\">\n                                             <div className=\"grid w-full gap-1\">\n                                                <Label htmlFor=\"notes\" className=\"text-xs sm:text-sm\">Regeneration Notes (Optional)</Label>\n                                                <Textarea \n                                                    id=\"notes\" \n                                                    placeholder=\"e.g., 'make lines thicker'\" \n                                                    value={userNotes}\n                                                    onChange={(e) => setUserNotes(e.target.value)}\n                                                    className=\"min-h-[50px] text-xs sm:text-sm\"\n                                                />\n                                            </div>\n                                            <div className=\"flex gap-2 w-full\">\n                                                <Button\n                                                    size=\"sm\"\n                                                    onClick={() => handleRegenerate(index)}\n                                                    disabled={loadingStates[index]}\n                                                    className=\"flex-1 text-xs sm:text-sm\"\n                                                >\n                                                    {loadingStates[index] ? (\n                                                        <>\n                                                            <Loader2 className=\"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin\" />\n                                                            <span className=\"hidden sm:inline\">Working...</span>\n                                                            <span className=\"sm:hidden\">...</span>\n                                                        </>\n                                                    ) : (\n                                                        <>\n                                                            <RefreshCw className=\"mr-1 sm:mr-2 h-3 w-3 sm:h-4 sm:w-4\" />\n                                                            <span className=\"hidden sm:inline\">Regenerate</span>\n                                                            <span className=\"sm:hidden\">Regen</span>\n                                                        </>\n                                                    )}\n                                                </Button>\n                                                <Button\n                                                    size=\"sm\"\n                                                    variant=\"outline\"\n                                                    onClick={() => handleCopyImageUrl(image.converted)}\n                                                    className=\"px-2 sm:px-3\"\n                                                >\n                                                    <Copy className=\"h-3 w-3 sm:h-4 sm:w-4\" />\n                                                </Button>\n                                            </div>\n                                        </div>\n                                    </CarouselItem>\n                                ))}\n                            </CarouselContent>\n                            <CarouselPrevious className=\"absolute left-4 top-1/2 -translate-y-1/2\" />\n                            <CarouselNext className=\"absolute right-4 top-1/2 -translate-y-1/2\" />\n                        </Carousel>\n                    )}\n                </DialogContent>\n            </Dialog>\n        </div>\n    );\n}\n\n    "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1144, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,OAAqB;QACpB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,8OAAC,kKAAA,CAAA,QAAsB;YACrB,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,kKAAA,CAAA,OAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1180, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,CAAA,GAAA,qMAAA,CAAA,aAAgB,AAAD,EAG5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,kKAAA,CAAA,OAAoB;QACnB,KAAK;QACL,WAAW,CAAA,GAAA,mHAAA,CAAA,KAAE,AAAD,EACV,4DACA;QAED,GAAG,KAAK;;0BAET,8OAAC,kKAAA,CAAA,QAAqB;gBAAC,WAAU;0BAC/B,cAAA,8OAAC,kKAAA,CAAA,QAAqB;oBAAC,WAAU;;;;;;;;;;;0BAEnC,8OAAC,kKAAA,CAAA,QAAqB;gBAAC,WAAU;;;;;;;;;;;;AAGrC,OAAO,WAAW,GAAG,kKAAA,CAAA,OAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1232, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/image-cropper.tsx"],"sourcesContent":["\n'use client';\n\nimport { useState, useCallback } from 'react';\nimport Cropper, { Area, Point } from 'react-easy-crop';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Check, Ban, RotateCw, ChevronRight } from 'lucide-react';\nimport { Slider } from '@/components/ui/slider';\n\n// Utility to create an image element\nconst createImage = (url: string): Promise<HTMLImageElement> =>\n  new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener('load', () => resolve(image));\n    image.addEventListener('error', (error) => reject(error));\n    image.setAttribute('crossOrigin', 'anonymous'); \n    image.src = url;\n  });\n\n// Utility to get cropped image data as a PNG data URI\nasync function getCroppedImg(imageSrc: string, pixelCrop: Area, rotation = 0): Promise<string> {\n    const image = await createImage(imageSrc);\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n\n    if (!ctx) {\n        throw new Error('Could not get canvas context');\n    }\n\n    const rotRad = rotation * Math.PI / 180;\n    \n    // calculate bounding box of the rotated image\n    const { width: bBoxWidth, height: bBoxHeight } = rotateSize(image.width, image.height, rotation);\n\n    // set canvas size to match the bounding box\n    canvas.width = bBoxWidth;\n    canvas.height = bBoxHeight;\n\n    // translate canvas context to a central location to allow rotation and flipping around the center\n    ctx.translate(bBoxWidth / 2, bBoxHeight / 2);\n    ctx.rotate(rotRad);\n    ctx.translate(-image.width / 2, -image.height / 2);\n\n    // draw rotated image\n    ctx.drawImage(image, 0, 0);\n    \n    const data = ctx.getImageData(\n        pixelCrop.x,\n        pixelCrop.y,\n        pixelCrop.width,\n        pixelCrop.height\n    );\n\n    // set canvas width to final desired crop size - this will clear existing context\n    canvas.width = pixelCrop.width;\n    canvas.height = pixelCrop.height;\n\n    // paste generated rotate image at the top left corner\n    ctx.putImageData(data, 0, 0);\n\n\n    return canvas.toDataURL('image/png');\n}\n\nconst rotateSize = (width: number, height: number, rotation: number) => {\n  const rotRad = Math.abs(rotation) * Math.PI / 180;\n\n  return {\n    width:\n      Math.abs(Math.cos(rotRad) * width) + Math.abs(Math.sin(rotRad) * height),\n    height:\n      Math.abs(Math.sin(rotRad) * width) + Math.abs(Math.cos(rotRad) * height),\n  };\n};\n\ninterface ImageCropperProps {\n    images: string[];\n    onComplete: (croppedImageUris: string[]) => void;\n    onCancel: () => void;\n}\n\nexport function ImageCropper({ images, onComplete, onCancel }: ImageCropperProps) {\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const [crop, setCrop] = useState<Point>({ x: 0, y: 0 });\n    const [zoom, setZoom] = useState(1);\n    const [rotation, setRotation] = useState(0);\n    const [croppedAreaPixels, setCroppedAreaPixels] = useState<Area | null>(null);\n    const [croppedImages, setCroppedImages] = useState<string[]>([]);\n    const [isProcessing, setIsProcessing] = useState(false);\n\n    const onCropComplete = useCallback((_croppedArea: Area, croppedAreaPixels: Area) => {\n        setCroppedAreaPixels(croppedAreaPixels);\n    }, []);\n\n    const handleNext = async () => {\n        if (!croppedAreaPixels || !images[currentIndex]) return;\n        \n        setIsProcessing(true);\n        try {\n            const croppedImage = await getCroppedImg(images[currentIndex], croppedAreaPixels, rotation);\n            const newCroppedImages = [...croppedImages, croppedImage];\n            setCroppedImages(newCroppedImages);\n            \n            if (currentIndex < images.length - 1) {\n                setCurrentIndex(currentIndex + 1);\n                setCrop({ x: 0, y: 0 });\n                setZoom(1);\n                setRotation(0);\n            } else {\n                onComplete(newCroppedImages);\n            }\n        } catch (e) {\n            console.error(e);\n        } finally {\n            setIsProcessing(false);\n        }\n    };\n    \n    const handleFinish = async () => {\n        setIsProcessing(true);\n        try {\n            if (croppedImages.length < images.length) {\n                if (!croppedAreaPixels || !images[currentIndex]) return;\n                const croppedImage = await getCroppedImg(images[currentIndex], croppedAreaPixels, rotation);\n                onComplete([...croppedImages, croppedImage]);\n            } else {\n                onComplete(croppedImages);\n            }\n        } catch (e) {\n            console.error(e);\n        } finally {\n            setIsProcessing(false);\n        }\n    }\n\n    const PAPER_ASPECT = 8.5 / 11;\n\n    return (\n        <Card className=\"w-full max-w-2xl mx-auto\">\n            <CardHeader>\n                <CardTitle>Crop Your Images (Step {currentIndex + 1} of {images.length})</CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-0 sm:p-6 sm:pt-0\">\n                 <div className=\"relative w-full bg-muted rounded-lg overflow-hidden\" style={{ paddingTop: `${(11 / 8.5) * 100}%` }}>\n                    {images[currentIndex] && (\n                        <Cropper\n                            image={images[currentIndex]}\n                            crop={crop}\n                            zoom={zoom}\n                            rotation={rotation}\n                            aspect={PAPER_ASPECT}\n                            onCropChange={setCrop}\n                            onZoomChange={setZoom}\n                            onRotationChange={setRotation}\n                            onCropComplete={onCropComplete}\n                            classes={{\n                                containerClassName: \"absolute top-0 left-0 right-0 bottom-0\",\n                            }}\n                        />\n                    )}\n                </div>\n                <div className=\"space-y-4 mt-4 px-4 sm:px-0\">\n                     <div className=\"grid grid-cols-1 gap-4 items-center\">\n                        <div className=\"space-y-2\">\n                            <label htmlFor=\"zoom\" className=\"block text-sm font-medium text-muted-foreground\">Zoom</label>\n                            <Slider\n                                id=\"zoom\"\n                                min={1}\n                                max={3}\n                                step={0.1}\n                                value={[zoom]}\n                                onValueChange={(value) => setZoom(value[0])}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </CardContent>\n            <CardFooter className=\"flex justify-between items-center p-4 sm:p-6 sm:pt-0\">\n                <Button variant=\"outline\" onClick={onCancel} disabled={isProcessing}>\n                    <Ban className=\"mr-2 h-4 w-4\" />\n                    Cancel\n                </Button>\n                <div className=\"flex-1 flex justify-center\">\n                    <Button variant=\"outline\" onClick={() => setRotation(r => (r + 90) % 360)}>\n                        <RotateCw className=\"mr-2 h-4 w-4\" />\n                        Rotate\n                    </Button>\n                </div>\n                <div className=\"flex gap-2\">\n                    {currentIndex < images.length -1 && (\n                        <Button onClick={handleNext} disabled={isProcessing}>\n                             {isProcessing ? 'Processing...' : `Next Image (${currentIndex + 2}/${images.length})`}\n                            <ChevronRight className=\"ml-2 h-4 w-4\" />\n                        </Button>\n                    )}\n                    <Button onClick={handleFinish} disabled={isProcessing}>\n                        <Check className=\"mr-2 h-4 w-4\" />\n                        {isProcessing ? 'Processing...' : 'Finish & Create'}\n                    </Button>\n                </div>\n            </CardFooter>\n        </Card>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1573, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/image-uploader.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useCallback, useEffect } from 'react';\nimport Image from 'next/image';\nimport { useToast } from \"@/hooks/use-toast\";\nimport { generateColoringBookImages, GenerateColoringBookImagesInput } from '@/ai/flows/generate-coloring-book-images';\nimport { Button } from './ui/button';\nimport { UploadCloud, X, Loader2, Wand2 } from 'lucide-react';\nimport { Card, CardContent } from './ui/card';\nimport { ImagePreviewGrid } from './image-preview-grid';\nimport { Label } from './ui/label';\nimport { Switch } from './ui/switch';\nimport { Slider } from './ui/slider';\nimport { ImageCropper } from './image-cropper';\n\ninterface UploadedFile {\n    file: File;\n    preview: string;\n}\n\nconst fileToDataURL = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n            if (event.target?.result) {\n                resolve(event.target.result as string);\n            } else {\n                reject(new Error(\"Couldn't read file\"));\n            }\n        };\n        reader.onerror = (err) => reject(err);\n        reader.readAsDataURL(file);\n    });\n};\n\n\nexport function ImageUploader() {\n    const [files, setFiles] = useState<UploadedFile[]>([]);\n    const [convertedImages, setConvertedImages] = useState<{original: string, converted: string}[]>([]);\n    const [isDragging, setIsDragging] = useState(false);\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [style, setStyle] = useState<GenerateColoringBookImagesInput['style']>('outline');\n    const [difficulty, setDifficulty] = useState(3);\n    const [croppingStep, setCroppingStep] = useState(false);\n    const [isAddingMorePhotos, setIsAddingMorePhotos] = useState(false);\n\n    const difficultyLabels: Record<number, string> = {\n        1: 'Very Easy',\n        2: 'Easy',\n        3: 'Normal',\n        4: 'Difficult',\n        5: 'Very Difficult',\n    };\n\n    const { toast } = useToast();\n\n    const handleFiles = useCallback(async (incomingFiles: FileList | null) => {\n        if (!incomingFiles) return;\n        \n        const newFiles = Array.from(incomingFiles)\n            .filter(file => file.type.startsWith('image/'))\n            .map(file => ({\n                file: file,\n                preview: URL.createObjectURL(file)\n            }));\n        \n        setFiles(prev => [...prev, ...newFiles]);\n\n    }, []);\n\n    useEffect(() => {\n        // Cleanup object URLs to prevent memory leaks\n        return () => {\n            files.forEach(file => URL.revokeObjectURL(file.preview));\n        };\n    }, [files]);\n\n    const onDragEnter = (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        setIsDragging(true);\n    };\n\n\n\n    const onDragLeave = (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        setIsDragging(false);\n    };\n\n    const onDragOver = (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault(); // Necessary to allow dropping\n    };\n\n    const onDrop = (e: React.DragEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        setIsDragging(false);\n        handleFiles(e.dataTransfer.files);\n    };\n\n    const removeFile = (index: number) => {\n        setFiles(prevFiles => {\n            const newFiles = [...prevFiles];\n            const fileToRemove = newFiles[index];\n            if(fileToRemove) {\n                URL.revokeObjectURL(fileToRemove.preview);\n            }\n            newFiles.splice(index, 1);\n            return newFiles;\n        });\n    };\n\n    const handleReset = () => {\n        files.forEach(file => URL.revokeObjectURL(file.preview));\n        setFiles([]);\n        setConvertedImages([]);\n        setIsSubmitting(false);\n        setCroppingStep(false);\n        setIsAddingMorePhotos(false);\n    }\n\n    const handleAddMorePhotos = () => {\n        setIsAddingMorePhotos(true);\n        setFiles([]);\n    }\n    \n    const handleCroppingComplete = async (croppedImageUris: string[]) => {\n        setIsSubmitting(true);\n        setCroppingStep(false);\n\n        try {\n            toast({ title: \"Let the magic begin...\", description: `Our AI is converting your ${croppedImageUris.length} photos. This might take a moment.` });\n            \n            const { coloringBookDataUris } = await generateColoringBookImages({ photoDataUris: croppedImageUris, style, difficulty });\n\n            if (!coloringBookDataUris || coloringBookDataUris.length !== croppedImageUris.length) {\n                throw new Error(\"The AI did not return the expected number of images.\");\n            }\n\n            const newConvertedImages = croppedImageUris.map((originalUri, index) => ({\n                original: originalUri,\n                converted: coloringBookDataUris[index]\n            }));\n\n            if (isAddingMorePhotos) {\n                // Add new images to existing ones\n                setConvertedImages(prev => [...prev, ...newConvertedImages]);\n                toast({ title: \"Photos Added!\", description: `${newConvertedImages.length} new images have been added to your coloring book.` });\n                setIsAddingMorePhotos(false);\n            } else {\n                // Replace all images (first time)\n                setConvertedImages(newConvertedImages);\n                toast({ title: \"Coloring Book Created!\", description: \"Your images have been converted into a coloring book.\" });\n            }\n            setFiles([]);\n\n        } catch (error) {\n            console.error(error);\n            const errorMessage = error instanceof Error ? error.message : \"Could not create your coloring pages. Please try again.\";\n            toast({ title: \"An error occurred\", description: errorMessage, variant: 'destructive' });\n            // If it fails, let the user try again from the start.\n            handleReset();\n        } finally {\n            setIsSubmitting(false);\n        }\n    }\n    \n    const isButtonDisabled = isSubmitting || files.length === 0;\n\n    if (convertedImages.length > 0 && !isAddingMorePhotos) {\n        return (\n            <div>\n                <ImagePreviewGrid \n                    images={convertedImages} \n                    style={style} \n                    difficulty={difficulty} \n                    onStartOver={handleReset}\n                    onAddMorePhotos={handleAddMorePhotos}\n                />\n            </div>\n        )\n    }\n\n    if (croppingStep) {\n        return <ImageCropper images={files.map(f => f.preview)} onComplete={handleCroppingComplete} onCancel={() => setCroppingStep(false)} />\n    }\n    \n    return (\n        <Card>\n            <CardContent className=\"p-6\">\n                <div\n                    onDragEnter={onDragEnter}\n                    onDragLeave={onDragLeave}\n                    onDragOver={onDragOver}\n                    onDrop={onDrop}\n                    className={`border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200\n                    ${isDragging ? 'border-primary bg-primary/10' : 'border-border'}`}\n                >\n                    <input\n                        type=\"file\"\n                        id=\"file-upload\"\n                        multiple\n                        accept=\"image/*\"\n                        onChange={(e) => handleFiles(e.target.files)}\n                        className=\"hidden\"\n                    />\n                    <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                        <UploadCloud className=\"mx-auto h-12 w-12 text-muted-foreground\" />\n                        <p className=\"mt-4 text-muted-foreground\">\n                            <span className=\"font-semibold text-primary\">\n                                {isAddingMorePhotos ? \"Click to add more photos\" : \"Click to upload photos\"}\n                            </span> or drag and drop\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">PNG, JPG, HEIC, etc.</p>\n                    </label>\n                </div>\n\n                {files.length > 0 && (\n                    <div className=\"mt-6\">\n                        <h3 className=\"font-semibold mb-4\">\n                            {isAddingMorePhotos ? \"Additional Photos\" : \"Your Photos\"} ({files.length})\n                        </h3>\n                        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4\">\n                            {files.map((uploadedFile, index) => (\n                                <div key={index} className=\"relative group aspect-square\">\n                                    <Image\n                                        src={uploadedFile.preview}\n                                        alt={uploadedFile.file.name}\n                                        fill\n                                        className=\"object-cover rounded-md\"\n                                    />\n                                    <button\n                                        onClick={() => removeFile(index)}\n                                        className=\"absolute top-1 right-1 bg-background/70 text-foreground rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity\"\n                                        aria-label=\"Remove image\"\n                                    >\n                                        <X className=\"h-4 w-4\" />\n                                    </button>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n                \n                <div className=\"mt-8 flex flex-col gap-6\">\n                    <div className='flex flex-col sm:flex-row gap-6 sm:gap-8'>\n                        <div className=\"flex items-center space-x-2\">\n                            <Switch id=\"realistic-style\" checked={style === 'realistic'} onCheckedChange={(checked) => setStyle(checked ? 'realistic' : 'outline')} />\n                            <Label htmlFor=\"realistic-style\">Realistic Style</Label>\n                        </div>\n                        <div className=\"grid gap-2 w-full max-w-sm\">\n                             <div className=\"flex justify-between items-center\">\n                                <Label htmlFor=\"difficulty-slider\">Difficulty: {difficultyLabels[difficulty]}</Label>\n                                <span className='text-sm font-medium text-muted-foreground bg-muted px-2 py-1 rounded-md'>{difficulty}</span>\n                            </div>\n                            <div className=\"flex items-center gap-4\">\n                                <span className=\"text-sm text-muted-foreground\">Very Easy</span>\n                                <Slider\n                                    id=\"difficulty-slider\"\n                                    min={1}\n                                    max={5}\n                                    step={1}\n                                    value={[difficulty]}\n                                    onValueChange={(value) => setDifficulty(value[0])}\n                                />\n                                <span className=\"text-sm text-muted-foreground\">Very Difficult</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={`flex ${isAddingMorePhotos ? 'justify-between' : 'justify-end'}`}>\n                        {isAddingMorePhotos && (\n                            <Button onClick={() => setIsAddingMorePhotos(false)} variant=\"outline\" size=\"lg\">\n                                Cancel\n                            </Button>\n                        )}\n                         <Button onClick={() => setCroppingStep(true)} disabled={isButtonDisabled} size=\"lg\">\n                            {isSubmitting ? (\n                                <>\n                                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                                    {isAddingMorePhotos ? \"Adding Photos...\" : \"Creating...\"}\n                                </>\n                            ) : (\n                                <>\n                                    <Wand2 className=\"mr-2 h-4 w-4\" />\n                                    {isAddingMorePhotos ? \"Add to Coloring Book\" : \"Create Coloring Book\"}\n                                </>\n                            )}\n                        </Button>\n                    </div>\n                </div>\n            </CardContent>\n        </Card>\n    );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;;;;;;;;;;;;;AAoBA,MAAM,gBAAgB,CAAC;IACnB,OAAO,IAAI,QAAQ,CAAC,SAAS;QACzB,MAAM,SAAS,IAAI;QACnB,OAAO,MAAM,GAAG,CAAC;YACb,IAAI,MAAM,MAAM,EAAE,QAAQ;gBACtB,QAAQ,MAAM,MAAM,CAAC,MAAM;YAC/B,OAAO;gBACH,OAAO,IAAI,MAAM;YACrB;QACJ;QACA,OAAO,OAAO,GAAG,CAAC,MAAQ,OAAO;QACjC,OAAO,aAAa,CAAC;IACzB;AACJ;AAGO,SAAS;IACZ,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB,EAAE;IACrD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA2C,EAAE;IAClG,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAA4C;IAC7E,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE7D,MAAM,mBAA2C;QAC7C,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;IACP;IAEA,MAAM,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,WAAQ,AAAD;IAEzB,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,OAAO;QACnC,IAAI,CAAC,eAAe;QAEpB,MAAM,WAAW,MAAM,IAAI,CAAC,eACvB,MAAM,CAAC,CAAA,OAAQ,KAAK,IAAI,CAAC,UAAU,CAAC,WACpC,GAAG,CAAC,CAAA,OAAQ,CAAC;gBACV,MAAM;gBACN,SAAS,IAAI,eAAe,CAAC;YACjC,CAAC;QAEL,SAAS,CAAA,OAAQ;mBAAI;mBAAS;aAAS;IAE3C,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,8CAA8C;QAC9C,OAAO;YACH,MAAM,OAAO,CAAC,CAAA,OAAQ,IAAI,eAAe,CAAC,KAAK,OAAO;QAC1D;IACJ,GAAG;QAAC;KAAM;IAEV,MAAM,cAAc,CAAC;QACjB,EAAE,cAAc;QAChB,cAAc;IAClB;IAIA,MAAM,cAAc,CAAC;QACjB,EAAE,cAAc;QAChB,cAAc;IAClB;IAEA,MAAM,aAAa,CAAC;QAChB,EAAE,cAAc,IAAI,8BAA8B;IACtD;IAEA,MAAM,SAAS,CAAC;QACZ,EAAE,cAAc;QAChB,cAAc;QACd,YAAY,EAAE,YAAY,CAAC,KAAK;IACpC;IAEA,MAAM,aAAa,CAAC;QAChB,SAAS,CAAA;YACL,MAAM,WAAW;mBAAI;aAAU;YAC/B,MAAM,eAAe,QAAQ,CAAC,MAAM;YACpC,IAAG,cAAc;gBACb,IAAI,eAAe,CAAC,aAAa,OAAO;YAC5C;YACA,SAAS,MAAM,CAAC,OAAO;YACvB,OAAO;QACX;IACJ;IAEA,MAAM,cAAc;QAChB,MAAM,OAAO,CAAC,CAAA,OAAQ,IAAI,eAAe,CAAC,KAAK,OAAO;QACtD,SAAS,EAAE;QACX,mBAAmB,EAAE;QACrB,gBAAgB;QAChB,gBAAgB;QAChB,sBAAsB;IAC1B;IAEA,MAAM,sBAAsB;QACxB,sBAAsB;QACtB,SAAS,EAAE;IACf;IAEA,MAAM,yBAAyB,OAAO;QAClC,gBAAgB;QAChB,gBAAgB;QAEhB,IAAI;YACA,MAAM;gBAAE,OAAO;gBAA0B,aAAa,CAAC,0BAA0B,EAAE,iBAAiB,MAAM,CAAC,kCAAkC,CAAC;YAAC;YAE/I,MAAM,EAAE,oBAAoB,EAAE,GAAG,MAAM,CAAA,GAAA,0JAAA,CAAA,6BAA0B,AAAD,EAAE;gBAAE,eAAe;gBAAkB;gBAAO;YAAW;YAEvH,IAAI,CAAC,wBAAwB,qBAAqB,MAAM,KAAK,iBAAiB,MAAM,EAAE;gBAClF,MAAM,IAAI,MAAM;YACpB;YAEA,MAAM,qBAAqB,iBAAiB,GAAG,CAAC,CAAC,aAAa,QAAU,CAAC;oBACrE,UAAU;oBACV,WAAW,oBAAoB,CAAC,MAAM;gBAC1C,CAAC;YAED,IAAI,oBAAoB;gBACpB,kCAAkC;gBAClC,mBAAmB,CAAA,OAAQ;2BAAI;2BAAS;qBAAmB;gBAC3D,MAAM;oBAAE,OAAO;oBAAiB,aAAa,GAAG,mBAAmB,MAAM,CAAC,kDAAkD,CAAC;gBAAC;gBAC9H,sBAAsB;YAC1B,OAAO;gBACH,kCAAkC;gBAClC,mBAAmB;gBACnB,MAAM;oBAAE,OAAO;oBAA0B,aAAa;gBAAwD;YAClH;YACA,SAAS,EAAE;QAEf,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC;YACd,MAAM,eAAe,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC9D,MAAM;gBAAE,OAAO;gBAAqB,aAAa;gBAAc,SAAS;YAAc;YACtF,sDAAsD;YACtD;QACJ,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,MAAM,mBAAmB,gBAAgB,MAAM,MAAM,KAAK;IAE1D,IAAI,gBAAgB,MAAM,GAAG,KAAK,CAAC,oBAAoB;QACnD,qBACI,8OAAC;sBACG,cAAA,8OAAC,8IAAA,CAAA,mBAAgB;gBACb,QAAQ;gBACR,OAAO;gBACP,YAAY;gBACZ,aAAa;gBACb,iBAAiB;;;;;;;;;;;IAIjC;IAEA,IAAI,cAAc;QACd,qBAAO,8OAAC,sIAAA,CAAA,eAAY;YAAC,QAAQ,MAAM,GAAG,CAAC,CAAA,IAAK,EAAE,OAAO;YAAG,YAAY;YAAwB,UAAU,IAAM,gBAAgB;;;;;;IAChI;IAEA,qBACI,8OAAC,gIAAA,CAAA,OAAI;kBACD,cAAA,8OAAC,gIAAA,CAAA,cAAW;YAAC,WAAU;;8BACnB,8OAAC;oBACG,aAAa;oBACb,aAAa;oBACb,YAAY;oBACZ,QAAQ;oBACR,WAAW,CAAC;oBACZ,EAAE,aAAa,iCAAiC,iBAAiB;;sCAEjE,8OAAC;4BACG,MAAK;4BACL,IAAG;4BACH,QAAQ;4BACR,QAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,WAAU;;;;;;sCAEd,8OAAC;4BAAM,SAAQ;4BAAc,WAAU;;8CACnC,8OAAC,oNAAA,CAAA,cAAW;oCAAC,WAAU;;;;;;8CACvB,8OAAC;oCAAE,WAAU;;sDACT,8OAAC;4CAAK,WAAU;sDACX,qBAAqB,6BAA6B;;;;;;wCAChD;;;;;;;8CAEX,8OAAC;oCAAE,WAAU;8CAAgC;;;;;;;;;;;;;;;;;;gBAIpD,MAAM,MAAM,GAAG,mBACZ,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;;gCACT,qBAAqB,sBAAsB;gCAAc;gCAAG,MAAM,MAAM;gCAAC;;;;;;;sCAE9E,8OAAC;4BAAI,WAAU;sCACV,MAAM,GAAG,CAAC,CAAC,cAAc,sBACtB,8OAAC;oCAAgB,WAAU;;sDACvB,8OAAC,6HAAA,CAAA,UAAK;4CACF,KAAK,aAAa,OAAO;4CACzB,KAAK,aAAa,IAAI,CAAC,IAAI;4CAC3B,IAAI;4CACJ,WAAU;;;;;;sDAEd,8OAAC;4CACG,SAAS,IAAM,WAAW;4CAC1B,WAAU;4CACV,cAAW;sDAEX,cAAA,8OAAC,4LAAA,CAAA,IAAC;gDAAC,WAAU;;;;;;;;;;;;mCAZX;;;;;;;;;;;;;;;;8BAoB1B,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;;sDACX,8OAAC,kIAAA,CAAA,SAAM;4CAAC,IAAG;4CAAkB,SAAS,UAAU;4CAAa,iBAAiB,CAAC,UAAY,SAAS,UAAU,cAAc;;;;;;sDAC5H,8OAAC,iIAAA,CAAA,QAAK;4CAAC,SAAQ;sDAAkB;;;;;;;;;;;;8CAErC,8OAAC;oCAAI,WAAU;;sDACV,8OAAC;4CAAI,WAAU;;8DACZ,8OAAC,iIAAA,CAAA,QAAK;oDAAC,SAAQ;;wDAAoB;wDAAa,gBAAgB,CAAC,WAAW;;;;;;;8DAC5E,8OAAC;oDAAK,WAAU;8DAA2E;;;;;;;;;;;;sDAE/F,8OAAC;4CAAI,WAAU;;8DACX,8OAAC;oDAAK,WAAU;8DAAgC;;;;;;8DAChD,8OAAC,kIAAA,CAAA,SAAM;oDACH,IAAG;oDACH,KAAK;oDACL,KAAK;oDACL,MAAM;oDACN,OAAO;wDAAC;qDAAW;oDACnB,eAAe,CAAC,QAAU,cAAc,KAAK,CAAC,EAAE;;;;;;8DAEpD,8OAAC;oDAAK,WAAU;8DAAgC;;;;;;;;;;;;;;;;;;;;;;;;sCAI5D,8OAAC;4BAAI,WAAW,CAAC,KAAK,EAAE,qBAAqB,oBAAoB,eAAe;;gCAC3E,oCACG,8OAAC,kIAAA,CAAA,SAAM;oCAAC,SAAS,IAAM,sBAAsB;oCAAQ,SAAQ;oCAAU,MAAK;8CAAK;;;;;;8CAIpF,8OAAC,kIAAA,CAAA,SAAM;oCAAC,SAAS,IAAM,gBAAgB;oCAAO,UAAU;oCAAkB,MAAK;8CAC3E,6BACG;;0DACI,8OAAC,iNAAA,CAAA,UAAO;gDAAC,WAAU;;;;;;4CAClB,qBAAqB,qBAAqB;;qEAG/C;;0DACI,8OAAC,+MAAA,CAAA,QAAK;gDAAC,WAAU;;;;;;4CAChB,qBAAqB,yBAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASnF","debugId":null}},
    {"offset": {"line": 2108, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/components/icons.tsx"],"sourcesContent":["import type { SVGProps } from 'react';\n\nexport function Logo(props: SVGProps<SVGSVGElement>) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      {...props}\n    >\n      <path d=\"m18.37 3.63-1.42 1.42c-.54.54-.83 1.25-.83 1.99v4.92c0 .74-.29 1.45-.83 1.99l-1.42 1.42\" />\n      <path d=\"m16.95 5.05-1.41 1.41\" />\n      <path d=\"m14.12 7.88-1.42 1.42\" />\n      <path d=\"M3 21h18\" />\n      <path d=\"M5 21V5.59c0-.74.29-1.45.83-1.99l1.42-1.42c.54-.54 1.25-.83 1.99-.83h4.52c.74 0 1.45.29 1.99.83l1.42 1.42c.54.54.83 1.25.83 1.99V21\" />\n    </svg>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEO,SAAS,KAAK,KAA8B;IACjD,qBACE,8OAAC;QACC,OAAM;QACN,SAAQ;QACR,MAAK;QACL,QAAO;QACP,aAAY;QACZ,eAAc;QACd,gBAAe;QACd,GAAG,KAAK;;0BAET,8OAAC;gBAAK,GAAE;;;;;;0BACR,8OAAC;gBAAK,GAAE;;;;;;0BACR,8OAAC;gBAAK,GAAE;;;;;;0BACR,8OAAC;gBAAK,GAAE;;;;;;0BACR,8OAAC;gBAAK,GAAE;;;;;;;;;;;;AAGd","debugId":null}},
    {"offset": {"line": 2196, "column": 0}, "map": {"version":3,"sources":["file:///Users/tgrossman/Desktop/FirebaseProject/src/app/create/page.tsx"],"sourcesContent":["\n'use client';\n\nimport { ImageUploader } from \"@/components/image-uploader\";\nimport { Logo } from \"@/components/icons\";\nimport Link from \"next/link\";\n\nexport default function CreatePage() {\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n       <header className=\"px-4 lg:px-6 h-16 flex items-center bg-background/80 backdrop-blur-sm sticky top-0 z-50 border-b\">\n        <Link href=\"/\" className=\"flex items-center justify-center gap-2\" prefetch={false}>\n          <Logo className=\"h-6 w-6 text-primary\" />\n          <span className=\"text-xl font-semibold font-headline\">ColorizeAI</span>\n        </Link>\n        <nav className=\"ml-auto flex gap-4 sm:gap-6\">\n            <p className=\"text-sm text-muted-foreground\">Turn your photos into coloring pages.</p>\n        </nav>\n      </header>\n      <main className=\"flex-1 p-4 sm:p-6 lg:p-8\">\n        <div className=\"container mx-auto\">\n            <div className=\"mb-8 text-center\">\n                <h1 className=\"text-3xl font-bold tracking-tight sm:text-4xl\">Create Your Coloring Book</h1>\n                <p className=\"mt-2 text-muted-foreground\">Upload your photos to get started. Our AI will convert them into line art, ready for you to color.</p>\n            </div>\n            <ImageUploader />\n        </div>\n      </main>\n      <footer className=\"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t\">\n        <p className=\"text-xs text-muted-foreground\">&copy; 2024 ColorizeAI. All rights reserved.</p>\n        <nav className=\"sm:ml-auto flex gap-4 sm:gap-6\">\n          <Link href=\"#\" className=\"text-xs hover:underline underline-offset-4\" prefetch={false}>\n            Terms of Service\n          </Link>\n          <Link href=\"#\" className=\"text-xs hover:underline underline-offset-4\" prefetch={false}>\n            Privacy\n          </Link>\n        </nav>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACZ,8OAAC;gBAAO,WAAU;;kCACjB,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAI,WAAU;wBAAyC,UAAU;;0CAC1E,8OAAC,2HAAA,CAAA,OAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;gCAAK,WAAU;0CAAsC;;;;;;;;;;;;kCAExD,8OAAC;wBAAI,WAAU;kCACX,cAAA,8OAAC;4BAAE,WAAU;sCAAgC;;;;;;;;;;;;;;;;;0BAGnD,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAG,WAAU;8CAAgD;;;;;;8CAC9D,8OAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;sCAE9C,8OAAC,uIAAA,CAAA,gBAAa;;;;;;;;;;;;;;;;0BAGpB,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;kCAC7C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAI,WAAU;gCAA6C,UAAU;0CAAO;;;;;;0CAGvF,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAI,WAAU;gCAA6C,UAAU;0CAAO;;;;;;;;;;;;;;;;;;;;;;;;AAOjG","debugId":null}}]
}